{"version":3,"file":"participants.js","sourceRoot":"","sources":["../../src/controllers/participants.ts"],"names":[],"mappings":";;;AAAA,0CAAoC;AAEpC,MAAa,sBAAsB;IAC/B,KAAK,CAAC,kBAAkB,CAAC,aAAkB;QACvC,MAAM,EAAE,GAAG,IAAA,gBAAK,GAAE,CAAC;QACnB,MAAM,KAAK,GAAG,8DAA8D,CAAC;QAE7E,EAAE,CAAC,SAAS,CAAC,KAAK,IAAG,EAAE;YACnB,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,aAAa,CAAC,EAC1B,KAAK,WAAU,GAAQ,EAAE,GAAQ;gBAC7B,IAAI,GAAG;oBAAE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAEpC,MAAM,WAAW,GAAG,MAAM,GAAG,CAAC;gBAC9B,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,WAAW,CAAC,CAAC;gBAC7C,OAAO,WAAW,CAAC;YACvB,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;IACP,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,WAAgB;QACpC,MAAM,EAAE,GAAG,IAAA,gBAAK,GAAE,CAAC;QAEnB,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE;YACd,EAAE,CAAC,GAAG,CAAC,2DAA2D,EAAE,CAAC,WAAW,CAAC,SAAS,EAAE,WAAW,CAAC,QAAQ,CAAC,EAC7G,UAAS,GAAQ;gBACb,IAAI,GAAG,EAAE;oBACL,OAAO,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;iBACnC;YACL,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;QAEH,OAAO,WAAW,CAAC;IACvB,CAAC;CACJ;AA/BD,wDA+BC","sourcesContent":["import { getDB } from '../database';\n\nexport class ParticipantsController {\n    async getParticipantById(participantId: any) {\n        const db = getDB();\n        const query = `SELECT id, firstName, lastName FROM participants WHERE id =?`;\n\n        db.serialize(async() => {\n            db.each(query, [participantId],\n                async function(err: any, row: any) {\n                    if (err) console.error(err.message);\n\n                    const participant = await row;\n                    console.log('participant --> ', participant);\n                    return participant;\n                });\n        });\n    }\n\n    async createParticipant(participant: any) {\n        const db = getDB();\n\n        db.serialize(() => {\n            db.run('INSERT INTO participants(firstName, lastName) VALUES(?,?)', [participant.firstName, participant.lastName],\n                function(err: any) {\n                    if (err) {\n                        return console.log(err.message);\n                    }\n                });\n        });\n\n        return participant;\n    }\n}\n"]}